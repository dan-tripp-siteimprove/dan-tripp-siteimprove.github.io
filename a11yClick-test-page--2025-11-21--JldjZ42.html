<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>x</title>

	<style>

p { 
	line-height: 1.5;
}

/* thanks https://www.tpgi.com/the-anatomy-of-visually-hidden/#where-we-came-in */
.visually-hidden:not(:focus):not(:active) {
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

table td, table th {
	border: 1px solid black;
}

table {
	border-collapse: collapse;
}

	</style>

	<!--
	<script src="./jquery-3.7.1.min.js">
	-->
	</script>

	<script>
	
/* adapted from https://karlgroves.com/ridiculously-easy-trick-for-keyboard-accessibility/ */
function a11yClick(event){
		if(event.type === 'click'){
				return true;
		}
		else if(event.type === 'keydown'){
				var code = event.charCode || event.keyCode;
				if((code === 32)|| (code === 13)){
						return true;
				}
		}
		else{
				return false;
		}
}


window.addEventListener("load", function(event) {

	document.getElementById('div-as-button').addEventListener('click', function(e) {
		console.log(new Date(), "do stuff on click");
	});

	document.getElementById('div-as-button').addEventListener('keydown', function(e) {
		if(a11yClick(e)) {
			console.log(new Date(), "do stuff on keydown");
			e.preventDefault();
		}
	});




	document.getElementById('normal-button').addEventListener('click', function(e) {
		console.log(new Date(), "do stuff on click");
	});




	document.getElementById('link-as-button').addEventListener('click', function(e) {
		console.log(new Date(), "do stuff on click");
		e.preventDefault(); // this is here to work around https://github.com/nvaccess/nvda/issues/19190 
	});

	document.getElementById('link-as-button').addEventListener('keydown', function(e) {
		if(a11yClick(e)) {
			console.log(new Date(), "do stuff on keydown");
			e.preventDefault();
		}
	});

});

	</script>

</head>




<body>
<main>

<div id="div-as-button" tabindex="0">div as button</div>
<br>
<button id="normal-button">real button</button>
<br>
<br>
<a href="#" id="link-as-button">link as button</a>
<br>


<div style="height: 5000px;">
<br>
this is a tall div.  it's here so that we'll notice if the SPACE key causes a scroll-down (as SPACE does, by default.)
</div>

<p>
the bottom
</p>


</main>

<div style="display: none">
<!-- this is to prevent the crawler from doing "deduplication" on this page. -->
786324d0-b60b-4a60-b298-27445a366628
</div>

</body>

</html>
