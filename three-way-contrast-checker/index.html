<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Three-Way Contrast Checker</title>

	<style>

p { line-height: 1.5; }

/* thanks https://www.tpgi.com/the-anatomy-of-visually-hidden/#where-we-came-in */
.visually-hidden:not(:focus):not(:active) {
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}
body {
	font-family: Arial, sans-serif;
	margin: 20px;
}
.color-picker {
	margin-bottom: 10px;
}
.result {
	margin-top: 20px;
}

	</style>

	<script>

window.addEventListener("load", function(event) {

	function luminance(r, g, b) {
		var a = [r, g, b].map(function (v) {
			v /= 255;
			return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
		});
		return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;
	}

	function contrast(rgb1, rgb2) {
		var lum1 = luminance(rgb1[0], rgb1[1], rgb1[2]);
		var lum2 = luminance(rgb2[0], rgb2[1], rgb2[2]);
		var brightest = Math.max(lum1, lum2);
		var darkest = Math.min(lum1, lum2);
		return (brightest + 0.05) / (darkest + 0.05);
	}

	function hexToRgb(hex) {
		var bigint = parseInt(hex.slice(1), 16);
		var r = (bigint >> 16) & 255;
		var g = (bigint >> 8) & 255;
		var b = bigint & 255;
		return [r, g, b];
	}

	function updateContrastDisplay() {
		var colorA = document.getElementById('colorA').value;
		var colorB = document.getElementById('colorB').value;
		var colorC = document.getElementById('colorC').value;

		var rgbA = hexToRgb(colorA);
		var rgbB = hexToRgb(colorB);
		var rgbC = hexToRgb(colorC);

		document.getElementById('contrastAB').textContent = contrast(rgbA, rgbB).toFixed(2);
		document.getElementById('contrastAC').textContent = contrast(rgbA, rgbC).toFixed(2);
		document.getElementById('contrastBC').textContent = contrast(rgbB, rgbC).toFixed(2);
	}

	document.getElementById('colorA').addEventListener('input', updateContrastDisplay);
	document.getElementById('colorB').addEventListener('input', updateContrastDisplay);
	document.getElementById('colorC').addEventListener('input', updateContrastDisplay);

	window.addEventListener("load", updateContrastDisplay);
	updateContrastDisplay();

});



	</script>

</head>




<body>
<main>
        <h1>Three-Way Contrast Checker</h1>
		<div style="display: flex; flex-direction: column; align-items: center; margin-bottom: 50px;">
			<span class="color-picker">
				<label for="colorA">Foreground:</label>
				<input type="color" id="colorA" name="colorA" value="#0000ff">
			</span>
			<span class="color-picker">
				<label for="colorB">"Middle ground":</label>
				<input type="color" id="colorB" name="colorB" value="#000000">
			</span>
			<span class="color-picker">
				<label for="colorC">Background:</label>
				<input type="color" id="colorC" name="colorC" value="#ffffff">
			</span>
		</div>
		<div style="margin-top: 25px;"></div>
        <div class="result">
            <p>Contrast Ratio foreground to background: <span id="contrastAC">N/A</span></p>
            <p>Contrast Ratio foreground to middle ground: <span id="contrastAB">N/A</span></p>
            <p>Contrast Ratio middle ground to background: <span id="contrastBC">N/A</span></p>
        </div>

</main>

</body>

</html>
