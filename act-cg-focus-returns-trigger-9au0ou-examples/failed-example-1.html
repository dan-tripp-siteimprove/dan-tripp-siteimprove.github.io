<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Failed Example 1</title>
		<script src="test-assets/9au0ou/aria-apg-dialog.js"></script>
		<script src="test-assets/9au0ou/aria-apg-utils.js"></script>
		<script>

			addEventListener('DOMContentLoaded', (event) => {
				document.getElementById('dialog1').on_close_via_escape_key = () => { 
					document.getElementById('donothingbutton2').focus();
				};
			});

		</script>
		<link href="test-assets/9au0ou/aria-apg-dialog.css" rel="stylesheet" />
		<link href="test-assets/9au0ou/9au0ou.css" rel="stylesheet" />
	</head>
	<body>
		<button id="donothingbutton1" class="top-level-button" type="button">Do nothing</button><br><br>
		<button class="top-level-button" type="button" onclick="openDialog('dialog1', this)">Open modal dialog</button><br><br>
		<button id="donothingbutton2" class="top-level-button" type="button">Do nothing</button><br><br>
		<div id="dialog_layer" class="dialogs">
			<div role="dialog" id="dialog1" aria-labelledby="dialog1_label" aria-modal="true"
					 class="hidden">
				<div class="dialog_form">For this test: use any button, or the escape key, to close the dialog.</div>
				<button type="button" class="close-button topright" aria-label="Close" title="Close" 
						onclick="closeDialog(this); document.getElementById('donothingbutton2').focus();">
					&times;
				</button>
				<div style="text-align: right;">
					<button type="button" onclick="closeDialog(this); document.getElementById('donothingbutton2').focus();">Ok</button>
					<button type="button" onclick="closeDialog(this); document.getElementById('donothingbutton2').focus();">Cancel</button>
				</div>
			</div>
		</div>
	</body>
</html>
